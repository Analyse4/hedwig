# Go
# Build your Go project.
# Add steps that test, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/go

trigger:
  - master

stages:
  - stage: Build
    jobs:
      - job: build
#        condition: startsWith(variables['Build.SourceBranch'], 'refs/tags/')
        pool:
          vmImage: 'ubuntu-latest'
        steps:
          - script: |
              echo "##vso[task.setvariable variable=tagarray]git tag -l v*"
              echo "##vso[task.setvariable variable=tagname]$TagArray[$TagArray.Count â€“ 1]"
              echo $TAGARRAY
              echo $TAGNAME
#          - task: Docker@2
#            displayName: Login to Docker Hub
#            inputs:
#              command: login
#              containerRegistry: DockerHub
#          - task: Docker@2
#            displayName: Build and Push
#            inputs:
#              command: buildAndPush
#              repository: analyse4/hedwig
#              tags: $(Build.SourceVersion)

